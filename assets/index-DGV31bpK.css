:root{--background-color: #f7f9fc;--primary-text-color: #2c3e50;--secondary-text-color: #555;--header-color: #ffffff;--container-bg: #ffffff;--accent-color: #007aff;--accent-color-dark: #005bb5;--btn-gradient: linear-gradient(45deg, #007aff, #00c6ff);--border-color: #e0e0e0;--success-color: #2ecc71;--error-color: #e74c3c;--font-heading: "Roboto Slab", serif;--font-body: "Inter", sans-serif;--user-message-bg: linear-gradient(45deg, #007aff, #00c6ff);--model-message-bg: #f1f1f1;--mic-listening-glow: #e74c3c;--completed-color: #2ecc71;--locked-color: #bdc3c7;--badge-gold-color: #ffd700}[data-theme=dark]{--background-color: #121212;--primary-text-color: #e5e7eb;--secondary-text-color: #9ca3af;--header-color: #1f2937;--container-bg: #1f2937;--accent-color: #3b82f6;--accent-color-dark: #2563eb;--btn-gradient: linear-gradient(45deg, #3b82f6, #60a5fa);--border-color: #374151;--success-color: #10b981;--error-color: #ef4444;--user-message-bg: linear-gradient(45deg, #3b82f6, #60a5fa);--model-message-bg: #374151;--mic-listening-glow: #ef4444;--completed-color: #10b981;--locked-color: #4b5563;--badge-gold-color: #f5b016}*{box-sizing:border-box;margin:0;padding:0}html,body{transition:background-color .3s ease,color .3s ease}body{font-family:var(--font-body);background-color:var(--background-color);color:var(--primary-text-color);line-height:1.6;overscroll-behavior-y:contain}#root{display:flex;flex-direction:column;height:100vh}.app{display:flex;flex-direction:column;height:100%;max-width:1200px;margin:0 auto;width:100%}.loading-container,.setup-container{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;font-size:1.2rem;color:var(--secondary-text-color);padding:1rem}.header{display:flex;justify-content:center;align-items:center;background-color:var(--header-color);color:var(--primary-text-color);padding:1rem 2rem;text-align:center;font-family:var(--font-heading);box-shadow:0 1px 3px #0000000d;border-bottom:1px solid var(--border-color);z-index:10;flex-shrink:0;position:relative;transition:background-color .3s ease,border-color .3s ease}.header h1{margin:0}.theme-toggle-btn{position:absolute;top:50%;right:1.5rem;transform:translateY(-50%);color:var(--primary-text-color)}.theme-toggle-btn:hover{background-color:#80808033}.main-content{display:flex;flex:1;overflow:hidden;padding:1.5rem;gap:1.5rem;justify-content:center;align-items:flex-start}.name-entry-container,.topic-entry-container{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%;max-width:600px;padding:2rem;background:var(--container-bg);border-radius:16px;box-shadow:0 4px 12px #00000014;animation:fadeIn .5s ease-out;margin-top:2rem;transition:background-color .3s ease}.name-entry-container h2,.topic-entry-container h2{font-family:var(--font-heading);font-size:2rem;margin-bottom:1.5rem}.topic-form{display:flex;width:100%;max-width:500px;gap:.5rem}.input-wrapper{display:flex;flex:1;align-items:center;position:relative}.input-wrapper .topic-input{width:100%}.topic-input{flex:1;padding:.8rem 1rem;border-radius:8px;border:1px solid var(--border-color);font-size:1rem;font-family:var(--font-body);transition:all .2s ease-in-out;background-color:var(--header-color);color:var(--primary-text-color)}.topic-input:focus{outline:none;border-color:var(--accent-color);box-shadow:0 0 0 4px #007aff26}.topic-input:disabled{background-color:#f5f5f5}[data-theme=dark] .topic-input:focus{box-shadow:0 0 0 4px #3b82f633}.study-layout{display:flex;flex:1;gap:1.5rem;overflow:hidden;height:100%;width:100%}.sidebar{background:var(--container-bg);padding:1.5rem;border-radius:16px;box-shadow:0 2px 8px #0000000d;border:1px solid var(--border-color);width:320px;flex-shrink:0;overflow-y:auto;display:flex;flex-direction:column;transition:all .3s ease}.sidebar-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem;padding-bottom:.75rem;border-bottom:1px solid var(--border-color)}.sidebar-header h2{margin-bottom:0;padding-bottom:0;border-bottom:none;font-size:1.25rem;font-family:var(--font-heading)}.sidebar-header-actions{display:flex;align-items:center;gap:.25rem}.sidebar-topic{font-size:1.1rem;font-weight:600;margin-bottom:1rem;color:var(--accent-color);word-break:break-word}.learning-journey{display:flex;flex-direction:column;gap:4px;flex-grow:1;margin-top:1rem}.journey-step{display:flex;align-items:center;gap:12px;padding:12px;border-radius:10px;width:100%;cursor:pointer;border:2px solid transparent;transition:all .3s ease;position:relative}.journey-step:not(:last-child):before{content:"";position:absolute;left:23px;top:48px;height:calc(100% - 32px);width:2px;background-color:var(--border-color);transition:background-color .3s ease}.step-icon{width:30px;height:30px;flex-shrink:0;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;color:#fff;background-color:var(--secondary-text-color);border:2px solid var(--container-bg);transition:all .3s ease;z-index:1}.step-label{font-weight:500;transition:color .3s ease}.journey-step:not(.locked){cursor:pointer}.journey-step:not(.locked):hover{background-color:#8080801a}.journey-step.next .step-icon{background-color:var(--accent-color)}.journey-step.next{border-color:var(--accent-color)}.journey-step.active{background-color:var(--accent-color);border-color:var(--accent-color)}.journey-step.active .step-icon{background-color:#fff;color:var(--accent-color)}.journey-step.active .step-label{color:#fff}.journey-step.active:not(:last-child):before,.journey-step.completed:not(:last-child):before{background-color:var(--completed-color)}.journey-step.completed{cursor:default}.journey-step.completed .step-icon{background-color:var(--completed-color);color:#fff}.journey-step.completed .step-label{text-decoration:line-through;color:var(--secondary-text-color)}.journey-step.locked{cursor:not-allowed;opacity:.6}.journey-step.locked .step-icon{background-color:var(--locked-color);color:#fff}.journey-step.locked .step-label{color:var(--locked-color)}.content-panel{flex:1;display:flex;flex-direction:column;background:var(--container-bg);border-radius:16px;box-shadow:0 2px 8px #0000000d;border:1px solid var(--border-color);overflow:hidden;transition:background-color .3s ease,border-color .3s ease}.conversation-container{flex:1;padding:1.5rem;overflow-y:auto;display:flex;flex-direction:column;gap:1rem}.message{display:flex;max-width:85%;animation:fadeIn .4s ease-out;position:relative;align-items:flex-end;gap:.5rem}.message-content{padding:.75rem 1.25rem;border-radius:18px;word-wrap:break-word;position:relative;flex-grow:1;transition:background-color .3s ease;display:flex;flex-direction:column;gap:.75rem}.message.user{align-self:flex-end}.message.user .message-content{background-image:var(--user-message-bg);color:#fff;border-bottom-right-radius:4px}.message.model{align-self:flex-start;flex-direction:column;align-items:flex-start}.message.model .message-content{background-color:var(--model-message-bg);color:var(--primary-text-color);border-bottom-left-radius:4px}.message-content:after{content:"";position:absolute;bottom:0;width:0;height:0;border:10px solid transparent;transition:border-color .3s ease}.message.user .message-content:after{right:-10px;border-left-color:var(--accent-color-dark);border-top-color:var(--accent-color-dark)}.message.model .message-content:after{left:-10px;border-right-color:var(--model-message-bg);border-top-color:var(--model-message-bg)}.message-text{flex-grow:1;user-select:text;-webkit-user-select:text}.message-content p{margin-bottom:.75rem}.message-content p:last-child{margin-bottom:0}.message-content ul,.message-content ol{padding-left:1.5rem;margin-top:.5rem;margin-bottom:.75rem}.message-content li{margin-bottom:.25rem}.message-content strong{font-weight:600;color:inherit}.message.user .message-content strong{color:#fff}.message-content em{font-style:italic}.message.system{align-self:center;font-size:.85rem;color:var(--secondary-text-color);background-color:#fafafa;padding:.25rem .75rem;border-radius:12px;transition:background-color .3s ease;text-align:center;max-width:100%}[data-theme=dark] .message.system{background-color:#374151}.chat-form-container{padding:1rem 1.5rem;border-top:1px solid var(--border-color);background-color:var(--header-color);transition:background-color .3s ease,border-color .3s ease}.chat-form{display:flex;gap:.5rem;align-items:center}.chat-input-wrapper{position:relative}.chat-input{flex:1;padding:.8rem 1rem;padding-right:48px;border-radius:8px;border:1px solid var(--border-color);font-size:1rem;font-family:var(--font-body);transition:all .2s ease-in-out;background-color:var(--header-color);color:var(--primary-text-color)}.chat-input:focus{outline:none;border-color:var(--accent-color);box-shadow:0 0 0 4px #007aff26}[data-theme=dark] .chat-input:focus{box-shadow:0 0 0 4px #3b82f633}.chat-input:disabled{background-color:#f5f5f5}.btn{padding:.8rem 1.5rem;border:none;border-radius:8px;background-image:var(--btn-gradient);color:#fff;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s;display:inline-flex;align-items:center;justify-content:center;gap:.5rem;box-shadow:0 2px 6px #007aff4d;flex-shrink:0}.btn:hover,.btn:focus{transform:translateY(-2px);box-shadow:0 4px 12px #007aff66}.btn:disabled{background-image:none;background-color:#b0c4de;cursor:not-allowed;transform:none;box-shadow:none}.btn-secondary{background-image:none;background-color:#f1f1f1;color:var(--primary-text-color);border:1px solid var(--border-color);box-shadow:none;transition:background-color .2s ease}.btn-secondary:hover{background-color:#e5e5e5;transform:none;box-shadow:none}[data-theme=dark] .btn-secondary{background-color:#374151;color:var(--primary-text-color);border-color:#4b5563}[data-theme=dark] .btn-secondary:hover{background-color:#4b5563}.btn-full-width{width:100%;margin-top:1rem}.btn-unlock-all{width:100%;margin-bottom:1rem}.btn-challenge{margin-bottom:.5rem;width:100%;margin-top:0}.btn-icon{background:transparent;border:none;cursor:pointer;padding:8px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:var(--secondary-text-color);transition:background-color .2s,color .2s;flex-shrink:0}.btn-icon:hover{background-color:#f0f0f0}[data-theme=dark] .btn-icon:hover{background-color:#80808033}.btn-icon:disabled{color:#ccc;cursor:not-allowed}.btn-mic{position:absolute;right:5px;top:50%;transform:translateY(-50%);color:var(--accent-color)}.btn-mic.is-listening{color:var(--mic-listening-glow);animation:pulse 1.5s infinite}.btn-back{color:var(--primary-text-color)}.thinking-placeholder{display:flex;align-items:center;gap:.75rem;color:var(--secondary-text-color);font-style:italic}.message-image{width:100%;height:auto;border-radius:12px;object-fit:cover;animation:fadeIn .5s;background-color:#eee}[data-theme=dark] .message-image{background-color:#444}.message-actions-toolbar{display:flex;align-items:center;gap:.5rem;margin-top:10px;padding-left:15px;animation:fadeIn .3s ease}.message-actions-toolbar .btn-icon{background-color:var(--container-bg);border:1px solid var(--border-color);width:36px;height:36px}.message-actions-toolbar .btn-icon svg{width:18px;height:18px}.message-actions-toolbar .btn-icon:hover,.message-actions-toolbar .btn-icon:focus{background-color:var(--accent-color);border-color:var(--accent-color);color:#fff;transform:translateY(-2px);box-shadow:0 4px 8px #007aff33}.message-actions-toolbar .btn-icon:disabled{transform:none;box-shadow:none;background-color:var(--container-bg);color:#ccc;border-color:var(--border-color)}[data-theme=dark] .message-actions-toolbar .btn-icon:disabled{color:#555;border-color:#444}.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:1000;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);animation:fadeIn .3s ease}.modal-content{background:var(--container-bg);padding:2rem;border-radius:16px;box-shadow:0 10px 30px #0000001a;width:90%;max-width:700px;max-height:90vh;display:flex;flex-direction:column;transition:background-color .3s ease}.quiz-modal .quiz-header{display:flex;justify-content:space-between;align-items:center;padding-bottom:1rem;border-bottom:1px solid var(--border-color)}.quiz-modal .quiz-header h2{font-family:var(--font-heading)}.quiz-modal .quiz-progress{font-weight:500;color:var(--secondary-text-color)}.quiz-body{padding:1.5rem 0;overflow-y:auto;flex-grow:1}.quiz-question{font-size:1.2rem;font-weight:500;margin-bottom:1.5rem}.quiz-options{display:grid;grid-template-columns:1fr;gap:.75rem}.quiz-option{padding:1rem;border:1px solid var(--border-color);border-radius:8px;cursor:pointer;transition:all .2s ease}.quiz-option:not(.answered):hover{border-color:var(--accent-color);background:#f0f5ff}[data-theme=dark] .quiz-option:not(.answered):hover{background-color:#374151}.quiz-option.answered{cursor:default;opacity:.6}.quiz-option.correct,.quiz-option.incorrect{opacity:1;color:#fff}.quiz-option.correct{background-color:var(--success-color);border-color:var(--success-color)}.quiz-option.incorrect{background-color:var(--error-color);border-color:var(--error-color)}.quiz-footer{display:flex;justify-content:space-between;align-items:center;padding-top:1.5rem;border-top:1px solid var(--border-color)}.quiz-navigation-buttons{display:flex;gap:.75rem}.btn-exit{background-image:none;background-color:transparent;border:1px solid var(--border-color);color:var(--secondary-text-color);box-shadow:none}.btn-exit:hover{background-color:var(--error-color);border-color:var(--error-color);color:#fff;transform:none;box-shadow:none}.explanation-container{margin-top:1.5rem;min-height:40px;display:flex;justify-content:center;align-items:center}.quiz-explanation{background-color:var(--model-message-bg);border-left:4px solid var(--accent-color);padding:.75rem 1rem;border-radius:4px;font-size:.95rem;color:var(--primary-text-color);width:100%;animation:fadeIn .3s ease}.quiz-explanation p:last-child{margin-bottom:0}.results-modal{max-width:800px}.results-header{text-align:center;padding-bottom:1rem;border-bottom:1px solid var(--border-color)}.results-header h2{font-family:var(--font-heading)}.results-summary{font-size:1.5rem;font-weight:700;margin-top:.5rem;color:var(--accent-color)}.results-body{padding:1.5rem 0;overflow-y:auto;flex-grow:1}.results-corrections h3{margin-bottom:1rem;font-family:var(--font-heading)}.summary-content-wrapper{position:relative;display:flex;align-items:flex-start;gap:.5rem;background:var(--model-message-bg);padding:1rem 1.25rem;border-radius:8px}.results-corrections .message-text{flex-grow:1}.results-footer{display:flex;justify-content:center;padding-top:1.5rem;border-top:1px solid var(--border-color)}.results-footer .btn-icon:hover{background-color:#00000014}[data-theme=dark] .results-footer .btn-icon:hover{background-color:#ffffff1a}.progress-modal{max-width:800px}.progress-header{display:flex;justify-content:space-between;align-items:center;padding-bottom:1rem;border-bottom:1px solid var(--border-color)}.progress-header h2{font-family:var(--font-heading)}.progress-body{padding-top:1.5rem;overflow-y:auto;display:flex;flex-direction:column;gap:2rem}.progress-stats{text-align:center}.progress-stats h3{font-family:var(--font-heading);color:var(--accent-color);margin-bottom:1rem}.progress-bar-container{width:100%;height:12px;background-color:var(--border-color);border-radius:6px;margin-bottom:.5rem;overflow:hidden}.progress-bar{height:100%;background-color:var(--success-color);border-radius:6px;transition:width .5s ease-in-out}.progress-stats p{font-size:.9rem;color:var(--secondary-text-color)}.badges-section h3{font-family:var(--font-heading);text-align:center;margin-bottom:1.5rem}.badges-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1.5rem}.badge-card{background:var(--container-bg);border:1px solid var(--border-color);border-radius:12px;padding:1.5rem;display:flex;align-items:center;gap:1rem;transition:all .3s ease;filter:grayscale(100%);opacity:.6}.badge-card.unlocked{filter:grayscale(0%);opacity:1;border-color:var(--badge-gold-color);box-shadow:0 4px 15px #ffd70033}[data-theme=dark] .badge-card.unlocked{box-shadow:0 4px 20px #f5b01640}.badge-icon{font-size:2.5rem;flex-shrink:0}.badge-info h4{font-family:var(--font-body);font-weight:600;margin-bottom:.25rem}.badge-info p{font-size:.85rem;color:var(--secondary-text-color)}.loading-spinner{border:5px solid #f3f3f3;border-top:5px solid var(--accent-color);border-radius:50%;width:50px;height:50px;animation:spin 1s linear infinite;margin:2rem auto}[data-theme=dark] .loading-spinner{border:5px solid #374151;border-top:5px solid var(--accent-color)}.loading-spinner-small{border:3px solid #f3f3f3;border-top:3px solid var(--accent-color);border-radius:50%;width:20px;height:20px;animation:spin 1s linear infinite}[data-theme=dark] .loading-spinner-small{border:3px solid #374151;border-top:3px solid var(--accent-color)}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}[data-theme=dark] ::-webkit-scrollbar-track{background:#2a2a2a}::-webkit-scrollbar-thumb{background:#ccc;border-radius:10px}[data-theme=dark] ::-webkit-scrollbar-thumb{background:#555}::-webkit-scrollbar-thumb:hover{background:#aaa}[data-theme=dark] ::-webkit-scrollbar-thumb:hover{background:#777}@keyframes fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes pulse{0%{box-shadow:0 0 #e74c3cb3}70%{box-shadow:0 0 0 10px #e74c3c00}to{box-shadow:0 0 #e74c3c00}}@media (max-width: 768px){.main-content{flex-direction:column;padding:1rem}.study-layout{flex-direction:column}.sidebar{width:100%;max-height:250px}.chat-form{gap:.25rem}.btn{padding:.7rem 1rem}.header h1{font-size:1.25rem}.theme-toggle-btn{right:1rem}.badges-grid{grid-template-columns:1fr}}
